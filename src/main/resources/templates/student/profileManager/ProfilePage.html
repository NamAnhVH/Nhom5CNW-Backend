<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Page</title>
    <link rel="stylesheet" href="/css/studentPage.css">
</head>
<body>
<header id="header">
    <div class="logo-container">
        <a class="logo-head" title="Trang chủ" href="/homepage">
            <img class="logo-header" src="/image/Hust-logo.jpg" alt="">
        </a>
    </div>
    <div>
        <ul class="action-tool">
            <li class="btn"><a href="/homepage">Trang chủ</a></li>
            <li class="btn"><a href="/admin/listCourse">Tiến độ học</a></li>
            <li class="btn"><a href="/admin/listAccount">Các khoá học</a></li>
            <li class="btn"><a href="/student/listNews">Thông tin cá nhân</a></li>
        </ul>
    </div>
    <div>
        <ul class="action-tool">
            <li class="btn"><a th:href="@{/logout}" title="Đăng xuất">Đăng xuất</a></li>
        </ul>
    </div>
</header>
<section id="main">
    <div id="left-side-main">
        <div id="left-side-content">
            <ul>
                <li><a href="/student/teacherProfile">Trang cá nhân</a></li>
                <li><a href="/student/teacherProfile?edit">Chỉnh sửa trang cá nhân</a></li>
                <li><a href="/student/changePassword">Thay đổi mật khẩu</a></li>
            </ul>
        </div>
    </div>
    <!--        Hiển thị preview trang cá nhân-->
    <div th:unless="${param.edit}" class="right-side-main none-background" th:object="${user}">
        <div id="teacherProfile">
            <div id="avatar-teacherProfile">
                <img th:src="*{base64Avatar}">
            </div>
            <div id="main-teacherProfile">
                <div>
                    <p th:text="*{'Họ và tên: ' + fullname}"></p>
                </div>
                <div>
                    <p th:text="${'Ngày sinh: ' + #dates.format(user.birthDate, 'yyyy-MM-dd')}"></p>
                </div>
                <div>
                    <p th:text="*{'Giới tính: ' + gender}"></p>
                </div>
                <div>
                    <p th:text="${'Tài khoản email: ' + email}"></p>
                </div>
                <div>
                    <p th:text="${'Học vấn' + literacy}"></p>
                </div>
                <div>
                    <p th:text="${'Quê quán: ' + hometown}"></p>
                </div>
            </div>
        </div>
    </div>
    <!--        Hiển thị trang chỉnh sửa-->
    <div th:if="${param.edit}" class="right-side-main">
        <form action="/teacher/teacherProfile/edit" method="post" enctype="multipart/form-data" th:object="${user}">
            <div>
                <label for="fullname">Họ và tên:</label><br>
                <input type="text" id="fullname" name="fullname" class="text-field-content" th:field="*{fullname}" required>
            </div>
            <div>
                <label>Avatar</label>
            </div>
            <div>
                <img id="avatar">
                <br>
                <input type="file" name="avatar" id="files" accept="image/*" th:field="*{avatar}">
            </div>
            <br>
            <div>
                <label for="mo-ta">Giới thiệu bản thân</label><br>
                <textarea id="mo-ta" name="mo-ta" class="text-field-content" rows="6" th:field="*{description}"></textarea>
            </div>
            <div>
                <label>Nội dung chính</label>
            </div>
            <div id="content">
                <textarea id="detail" name="detail" th:field="*{detail}"></textarea>
            </div>
            <div id="btn">
                <button type="submit" id="submit">Chỉnh sửa</button>
            </div>
        </form>
    </div>
</section>
</body>
<script>
    document.getElementById("files").onchange = function () {
        var reader = new FileReader();

        reader.onload = function (e) {
            // get loaded data and render thumbnail.
            document.getElementById("avatar").src = e.target.result;
        };

        // read the image file as a data URL.
        reader.readAsDataURL(this.files[0]);
    };
</script>
</html>